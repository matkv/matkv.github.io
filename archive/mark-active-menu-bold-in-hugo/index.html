<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Mark active menu bold in Hugo | matkv.dev</title>
<link rel=stylesheet href=/css/main.css integrity crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/iconoir-icons/iconoir@main/css/iconoir.css><link disabled id=dark-css rel=stylesheet href=/css/dark.css><link id=light-syntax rel=stylesheet href=/css/syntax-light.css><link id=dark-syntax rel=stylesheet href=/css/syntax-dark.css disabled></head><body><header><div class=websitetitle><h1><a href=/>matkv.dev</a></h1></div><nav><ul><li><a href=/about>About</a></li><li><a href=/micro-blog>Micro blog</a></li><li><a href=/tags>Tags</a></li><li><a href=/archive>Archive</a></li><div class=nav-icons><a href=/search><li><i id=searchicon class=iconoir-search></i></li></a><li><i id=darkmodeswitch class=iconoir-half-moon></i>
<script>var savedTheme,toggle=document.getElementById("darkmodeswitch"),darkTheme=document.getElementById("dark-css"),lightSyntax=document.getElementById("light-syntax"),darkSyntax=document.getElementById("dark-syntax");toggle.addEventListener("click",()=>{toggle.className==="iconoir-half-moon"?setTheme("dark"):toggle.className==="iconoir-sun-light"&&setTheme("light")}),savedTheme=localStorage.getItem("dark-mode-storage")||"light",setTheme(savedTheme);function setTheme(e){localStorage.setItem("dark-mode-storage",e),e==="dark"?(darkTheme.disabled=!1,darkSyntax.disabled=!1,lightSyntax.disabled=!0,toggle.className="iconoir-sun-light"):e==="light"&&(darkTheme.disabled=!0,darkSyntax.disabled=!0,lightSyntax.disabled=!1,toggle.className="iconoir-half-moon")}</script></li></div></ul></nav><hr></header><main><h1>Mark active menu bold in Hugo</h1><div class=date><time datetime=2022-03-24>24 March, 2022</time></div><div class=tag-container><span class=tag-label>Tags:</span><div class=tags><ul><li><a href=/tags/hugo/>Hugo</a></li></ul></div></div><p>A quick summary of how I managed to set the currently active menu item bold on this website. My solution is a bit hacky but it works.</p><p>This is how the menu currently looks in my <code>config.toml</code> file.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=p>[</span><span class=nx>menu</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>menu</span><span class=p>.</span><span class=nx>main</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>identifier</span> <span class=p>=</span> <span class=s2>&#34;home&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;home&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;/&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>menu</span><span class=p>.</span><span class=nx>main</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>identifier</span> <span class=p>=</span> <span class=s2>&#34;about&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;about&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;/about&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>20</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>menu</span><span class=p>.</span><span class=nx>main</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>identifier</span> <span class=p>=</span> <span class=s2>&#34;blog&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;blog&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;/blog&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>30</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>menu</span><span class=p>.</span><span class=nx>main</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>identifier</span> <span class=p>=</span> <span class=s2>&#34;projects&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;projects&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;/projects&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>40</span>
</span></span></code></pre></div><p>In my <code>navigation.html</code> I already had my range function that goes through all those elements in the menu and creates a list item & link for them.</p><p>What&rsquo;s new now is that I added a check to see if the <code>URL</code> property of the current menu item is the same as <code>RelPermalink</code> property of the current page. I&rsquo;ve found several other ways to do this online but haven&rsquo;t managed to get them to work.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-golang data-lang=golang><span class=line><span class=cl><span class=p>{{</span> <span class=err>$</span><span class=nx>current</span> <span class=o>:=</span> <span class=p>.</span> <span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=p>{{</span> <span class=k>range</span> <span class=p>.</span><span class=nx>Site</span><span class=p>.</span><span class=nx>Menus</span><span class=p>.</span><span class=nx>main</span> <span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=p>{{</span> <span class=err>$</span><span class=nx>active</span> <span class=o>:=</span> <span class=kc>false</span><span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=p>{{</span> <span class=err>$</span><span class=nx>trimmedperma</span> <span class=o>:=</span> <span class=nx>trim</span> <span class=err>$</span><span class=nx>current</span><span class=p>.</span><span class=nx>RelPermalink</span> <span class=s>&#34;/&#34;</span><span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=p>{{</span> <span class=err>$</span><span class=nx>trimmedurl</span> <span class=o>:=</span> <span class=nx>trim</span> <span class=p>.</span><span class=nx>URL</span> <span class=s>&#34;/&#34;</span><span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=p>{{</span> <span class=err>$</span><span class=nx>active</span> <span class=o>:=</span> <span class=nx>or</span> <span class=err>$</span><span class=nf>active</span> <span class=p>(</span><span class=nx>eq</span> <span class=err>$</span><span class=nx>trimmedperma</span> <span class=err>$</span><span class=nx>trimmedurl</span><span class=p>)}}</span>        
</span></span></code></pre></div><p>So if the current menu is for example the blog page, the <code>URL</code> of the menu item will be &ldquo;/blog&rdquo; and the permalink of the page will have the same value. (I had to trim the slashes to make the comparison cleaner). If that is true, the <code>$active</code> variable will be set to true.</p><p>For the actual menu item, I added an if clause that checks if the ``$active``` variable is set and then adds a css class to the link tag of the item. The css class just has a rule to set the font to bold.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>class=&#34;{{ if $active }}navigation-active{{ end }}&#34;
</span></span></code></pre></div><p>This alone would however not work if I would for example open up a specific blog post or a project from my projects list. For this I also needed to check if the section of the current page is the correct one - a blog or a project.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=p>{{</span> <span class=err>$</span><span class=nx>active</span> <span class=o>:=</span> <span class=nx>or</span> <span class=err>$</span><span class=nf>active</span> <span class=p>(</span><span class=nf>and</span> <span class=p>(</span><span class=nx>eq</span> <span class=err>$</span><span class=nx>trimmedurl</span> <span class=s>&#34;blog&#34;</span><span class=p>)</span> <span class=p>(</span><span class=nx>eq</span> <span class=err>$</span><span class=nx>current</span><span class=p>.</span><span class=nx>Section</span> <span class=s>&#34;blog&#34;</span><span class=p>))</span> <span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=p>{{</span> <span class=err>$</span><span class=nx>active</span> <span class=o>:=</span> <span class=nx>or</span> <span class=err>$</span><span class=nf>active</span> <span class=p>(</span><span class=nf>and</span> <span class=p>(</span><span class=nx>eq</span> <span class=err>$</span><span class=nx>trimmedurl</span> <span class=s>&#34;projects&#34;</span><span class=p>)</span> <span class=p>(</span><span class=nx>eq</span> <span class=err>$</span><span class=nx>current</span><span class=p>.</span><span class=nx>Section</span> <span class=s>&#34;projects&#34;</span><span class=p>))</span> <span class=p>}}</span>
</span></span></code></pre></div><p>Now, the menu items stays bold even when I open up a specific blog post or project post. I&rsquo;ll have to update this spot whenever I add a new archetype that has lists/subpages that can be opened.</p><p>While writing this blogpost I also finally managed to set up a <strong>basic version of the syntax highlighting</strong> using chroma and Pygments & managed to make it work so that it uses a different color scheme when I switch between dark and light mode. I used <a href=https://hedy.tilde.cafe/posts/hugo-syntax-highlighting/>this tutorial</a> as a general guide but my implementation is basically done the same way as the dark mode / light mode switch works.</p><p>If I ever want to change a color scheme, I can just generate it using this command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hugo gen chromastyles --style<span class=o>=</span>friendly &gt; path/to/cssfile/filename.css
</span></span></code></pre></div><p>Then I can basically just switch out the content of my current <code>static/css/syntaxlight.css</code> and <code>static/css/syntaxdark.css</code> files and easily use a different color scheme.</p><p>But I&rsquo;m definitely not motivated enough to write all of that down in this post :D</p></main><footer><div class=footer><div class=construction>This site is still a work in progress, some content might be missing or incomplete & the styling might look
        weird.</div><p>&copy; 2025 | matkv</p></div></footer></body></html>